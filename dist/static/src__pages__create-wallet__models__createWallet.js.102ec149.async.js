webpackJsonp([8],{swN2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("jMNT"),s=r.n(n),a=r("drDG"),o=r.n(a),c=r("M4fF"),i=(r.n(c),r("xw80"));t.default={namespace:"createWallet",state:{mnemonic:[],password:"",curStep:0,inputWords:[],leftWords:[],verifyError:!1},effects:{generateMnemonic:o.a.mark(function e(t,r){var n,s,a,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=r.put,e.prev=2,a=n.password,e.next=6,i.a.crypto.generateMnemonic();case 6:return c=e.sent,e.next=9,s({type:"updatePassword",password:a});case 9:return e.next=11,s({type:"initMnemonic",mnemonic:c});case 11:return e.next=13,s({type:"updateLeftWords",mnemonic:c});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(2),e.next=19,s({type:"updateMnemonic_failed"});case 19:case"end":return e.stop()}},e,this,[[2,15]])}),verifySeed:o.a.mark(function e(t,r){var n,s,a,i,u,p,d,f;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,s=r.put,a=r.select,e.prev=2,i=n.password,e.next=6,a(function(e){return e.createWallet});case 6:if(u=e.sent,p=u.mnemonic,d=u.inputWords,f=u.password,!Object(c.isEqual)(p,d)||!Object(c.isEqual)(i,f)){e.next=15;break}return e.next=13,s({type:"verifySuccess"});case 13:e.next=17;break;case 15:return e.next=17,s({type:"verifyFailed"});case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(2),e.next=23,s({type:"verifyFailed"});case 23:case"end":return e.stop()}},e,this,[[2,19]])})},reducers:{updatePassword:function(e,t){var r=t.password;e.password=r},initMnemonic:function(e,t){var r=t.mnemonic;e.inputWords=[],e.verifyError=!1,e.mnemonic=r.split(" "),e.curStep++},updateInputWords:function(e,t){var r=t.words;e.inputWords=r},updateLeftWords:function(e,t){var r=t.mnemonic;e.leftWords=r.split(" ").sort(function(){return.5-Math.random()})},updateStep:function(e,t){var r=t.step;e.curStep=r},removeInputWord:function(e,t){var r=t.payload,n=e.inputWords[r];e.inputWords=s()(e.inputWords.slice(0,r)).concat(s()(e.inputWords.slice(r+1))),e.leftWords=s()(e.leftWords).concat([n])},removeLeftWord:function(e,t){var r=t.payload,n=e.leftWords[r];e.leftWords=s()(e.leftWords.slice(0,r)).concat(s()(e.leftWords.slice(r+1))),e.inputWords=s()(e.inputWords).concat([n])},verifySuccess:function(e){e.curStep=3},verifyFailed:function(e){e.verifyError=!0},resetState:function(e){e.mnemonic=[],e.password="",e.curStep=0,e.inputWords=[],e.leftWords=[]}}}}});